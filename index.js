import{a as m,S as p}from"./assets/vendor-DBMDmZZa.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const y="47404996-12b53dec464063fd6255bb496",g="https://pixabay.com/api/";async function u(t,r=1,n=15){const s=`${g}?key=${y}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=${n}`;return(await m.get(s)).data}function f(t){return t.map(({webformatURL:r,largeImageURL:n,tags:s})=>`
        <div class="photo-card">
        <a href="${n}">
        <img src="${r}" alt="${s}" loading="lazy" />
        </a>
        </div>`).join("")}const L=document.querySelector("#search-form"),a=document.querySelector(".gallery"),c=document.querySelector(".load-more");let i="",l=1;const h=new p(".gallery a");L.addEventListener("submit",b);c.addEventListener("click",v);async function b(t){if(t.preventDefault(),i=t.currentTarget.elements.searchQuery.value.trim(),!!i){l=1,a.innerHTML="",c.classList.add("hidden");try{const{hits:r,totalHits:n}=await u(i,l);if(r.length===0){alert("No images found. Try another query!");return}a.innerHTML=f(r),h.refresh(),r.length<n&&c.classList.remove("hidden")}catch(r){console.error(r)}}}async function v(){l+=1;try{const{hits:t,totalHits:r}=await u(i,l);a.insertAdjacentHTML("beforeend",f(t)),h.refresh(),a.children.length>=r&&(c.classList.add("hidden"),alert("We're sorry, but you've reached the end of search results."))}catch(t){console.error(t)}}
//# sourceMappingURL=index.js.map
